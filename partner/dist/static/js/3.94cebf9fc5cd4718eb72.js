webpackJsonp([3],{"+2Tb":function(e,t,s){"use strict";var a=s("PaUB"),o={props:["title1","phone"],data:function(){return{time:60,loading:!0,disabled:!0,codeText:"获取验证码",modal1:!1,formValidate:{mobile:"",code:"",pwd:""},ruleValidate:{mobile:[{required:!0,message:"请输入您的手机号",trigger:"blur"}],code:[{required:!0,message:"请输入您的手机验证",trigger:"blur"}],pwd:[{required:!0,message:"请输入您的新密码",trigger:"blur"}]}}},methods:{getCode:function(){var e=this;if(60===e.time){var t=setInterval(function(){0===e.time?(e.codeText="获取验证码",e.time=60,window.clearInterval(t)):(e.time--,e.codeText=e.time+"s")},1e3);e.Axios.post("/partner/login/mobile",e.Qs.stringify({mobile:e.formValidate.mobile})).then(function(t){e.$Message.success("验证码已发送")})}else e.$Message.warning("客官稍后再获取")},handleSubmit:function(e){var t=this;t.$refs[e].validate(function(e){e?t.Axios.post("/partner/login/updatapwd",t.Qs.stringify({mobile:t.formValidate.mobile,code:t.formValidate.code,pwd:t.formValidate.pwd})).then(function(e){if(0===e.data.error){t.modal1=!1,t.handleReset("formValidate"),t.$router.push("/"),t.$Message.success("密码已修改，请登录");var s=document.cookie.match(/[^ =;]+(?=\=)/g);if(s)for(var a=s.length;a--;)document.cookie=s[a]+"=0;expires="+new Date(0).toUTCString()}else t.loading=!1,t.$Message.error(e.data.errMsg)}):(t.loading=!1,t.$Message.error("Fail!"))})},handleReset:function(e){this.$refs[e].resetFields()},ok:function(){},cancel:function(){this.handleReset("formValidate")},phooos:function(){return this.phone}},mounted:function(){a.a.cookie("token")?this.disabled=!0:this.disabled=!1}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("Modal",{attrs:{title:e.title1,loading:e.loading,styles:{width:"400px"}},on:{"on-ok":function(t){e.handleSubmit("formValidate")},"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[s("Form",{ref:"formValidate",staticStyle:{padding:"0 10px"},attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[s("FormItem",{attrs:{label:"手机号",prop:"mobile"}},[s("Input",{attrs:{disabled:e.disabled,maxlength:11,placeholder:"请输入您的手机号"},model:{value:e.formValidate.mobile,callback:function(t){e.$set(e.formValidate,"mobile",t)},expression:"formValidate.mobile"}})],1),e._v(" "),s("FormItem",{attrs:{label:"验证码",prop:"code"}},[s("Input",{attrs:{search:"","enter-button":e.codeText,maxlength:4,placeholder:"请输入您的验证码"},on:{"on-search":function(t){e.getCode()}},model:{value:e.formValidate.code,callback:function(t){e.$set(e.formValidate,"code",t)},expression:"formValidate.code"}})],1),e._v(" "),s("FormItem",{attrs:{label:"新密码",prop:"pwd"}},[s("Input",{attrs:{maxlength:16,placeholder:"请输入您的新密码",type:"password"},model:{value:e.formValidate.pwd,callback:function(t){e.$set(e.formValidate,"pwd",t)},expression:"formValidate.pwd"}})],1)],1)],1),e._v("\n  "+e._s(e.formValidate.mobile=e.phone)+"\n")],1)},staticRenderFns:[]};var i=s("VU/8")(o,n,!1,function(e){s("mKvv")},null,null);t.a=i.exports},K31e:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("PaUB"),o={name:"home",components:{alterPas:s("+2Tb").a},data:function(){return{res_c:[],authCode:"60s",codeStater:!0,states:!0,user:{username:"",password:"",mobile:"",code:""}}},methods:{asdasd:function(e){console.log(e)},login:function(){var e=this;!0===e.states?e.Axios.post("/partner/login/login",e.Qs.stringify({name:e.user.username,pwd:e.user.password})).then(function(t){0===t.data.error?(a.a.cookie("class_id",t.data.data.class_id),e.$router.push({name:"welcome"}),sessionStorage.setItem("meu","1")):e.$Message.error(t.data.errMsg)}):e.Axios.post("/partner/login/quick",e.Qs.stringify({mobile:e.user.mobile,code:e.user.code})).then(function(t){0===t.data.error?(e.$router.push({name:"deveHouses"}),e.$Message.success("登录成功"),sessionStorage.setItem("meu","1-1")):e.$Message.error(t.data.errMsg)})},getCode:function(){var e=this,t=60;e.codeStater=!1;var s=setInterval(function(){0!==--t?e.authCode=t+"s":(clearInterval(s),e.authCode="60s",e.codeStater=!0)},1e3);e.Axios.post("/partner/login/mobile",e.Qs.stringify({mobile:e.user.mobile})).then(function(e,t){})}},mounted:function(){var e=document.cookie.match(/[^ =;]+(?=\=)/g);if(e)for(var t=e.length;t--;)document.cookie=e[t]+"=0;expires="+new Date(0).toUTCString()}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content1"},[s("div",{staticClass:"cont-fixed"},[s("div",{staticClass:"fixed-center"},[s("div",{staticClass:"fixed-center-cut"},[s("p",{class:{"cut-login":!0,"cut-logina":!0,"cut-states":e.states},on:{click:function(t){e.states=!0}}},[e._v("密码登录")]),e._v(" "),s("p",{class:{"cut-login":!0,"cut-loginb":!0,"cut-states":!e.states},on:{click:function(t){e.states=!1}}},[e._v("手机登录")])]),e._v(" "),s("span",{staticClass:"line",style:{marginLeft:!0===e.states?"45px":"303px"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.states,expression:"states"}],staticClass:"fixed-center-inp"},[s("div",{staticClass:"center-inp-con center-inp-cona"},[s("img",{attrs:{src:"https://gsfhuodong.oss-cn-hangzhou.aliyuncs.com/voucher/user.png",alt:""}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"inp-con-y",attrs:{maxlength:"11",type:"text",placeholder:"请输入用户名"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"center-inp-con"},[s("img",{attrs:{src:"https://gsfhuodong.oss-cn-hangzhou.aliyuncs.com/voucher/pass.png",alt:""}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"inp-con-y",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.states,expression:"!states"}],staticClass:"fixed-center-inp",staticStyle:{display:"none"}},[s("div",{staticClass:"center-inp-con center-inp-cona"},[s("img",{attrs:{src:"https://gsfhuodong.oss-cn-hangzhou.aliyuncs.com/voucher/phone.png",alt:""}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.mobile,expression:"user.mobile"}],staticClass:"inp-con-y",attrs:{maxlength:"11",type:"text",placeholder:"请输入手机号"},domProps:{value:e.user.mobile},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"center-inp-con"},[s("img",{attrs:{src:"https://gsfhuodong.oss-cn-hangzhou.aliyuncs.com/voucher/pass.png",alt:""}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.code,expression:"user.code"}],staticClass:"inp-con-y inp-con-tree",attrs:{maxlength:"4",type:"password",placeholder:"请输入验证码"},domProps:{value:e.user.code},on:{input:function(t){t.target.composing||e.$set(e.user,"code",t.target.value)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.codeStater,expression:"codeStater"}],staticClass:"inp-getCode",on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.codeStater,expression:"!codeStater"}],staticClass:"inp-getCode",staticStyle:{"margin-right":"40px"}},[e._v(e._s(e.authCode))])])]),e._v(" "),s("form",{directives:[{name:"show",rawName:"v-show",value:e.states,expression:"states"}],staticClass:"center-remember",attrs:{action:""}},[e._m(0),e._v(" "),s("a",{staticClass:"forget-password",on:{click:function(t){e.$refs.pas.modal1=!0}}},[e._v("忘记密码？")])]),e._v(" "),s("button",{staticClass:"content-login",on:{click:e.login}},[e._v("登 录")])]),e._v(" "),s("alterPas",{ref:"pas",attrs:{title1:"找回密码"}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{staticClass:"center-remember-checkbox",attrs:{type:"checkbox",checked:"checked"}}),this._v(" 记住密码\n        ")])}]};var i=s("VU/8")(o,n,!1,function(e){s("c4A5")},"data-v-cf3165e0",null);t.default=i.exports},PaUB:function(e,t,s){"use strict";var a=function(){var e=void 0,t=document;this.cookie=function(s,a,o){if(a!=e)if(o!=e){var n=new Date;n.setTime(n.getTime()+24*o.expires*60*60*1e3),t.cookie=encodeURIComponent(s)+"="+encodeURIComponent(a)+";expires="+n.toGMTString()}else t.cookie=encodeURIComponent(s)+"="+encodeURIComponent(a);else{o=t.cookie.split("; ");for(var i=0;i<o.length;i++){var r=o[i].split("=");if(r[0]==decodeURIComponent(s))return decodeURIComponent(r[1])}}}},o=new a;a.prototype.removeCookie=function(e){o.cookie(e,"",{expires:-1})},t.a=o},c4A5:function(e,t){},mKvv:function(e,t){}});